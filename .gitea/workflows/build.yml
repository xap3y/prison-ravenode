name: Build Prison plugin
run-name: Build Prison plugin
on: [push]
jobs:
    Build-latest-jar:
        runs-on: ubuntu-latest
        steps:
            - name: Build | Prepare packages
              run: |
                  apt-get update
                  apt-get install software-properties-common -y 
                  apt-get install -y openjdk-21-jdk
            - name: Prepare | Setup git
              run: |
                  git config --global user.name "Martin H"
                  git config --global user.email "gitea@xap3y.space"
            - name: Check out repository code
              uses: actions/checkout@v4
            - name: Build | Gradle clean build
              run: |
                  ls -lah
                  chmod +x ./gradlew
                  ./gradlew clean build && ls -lah && ls */ -lah && ls */* -lah&& ls */*/* -lah
            - name: Build | publish jar
              run:  |
                  curl --insecure --user username:mypass -T build/libs/Prison-1.0.jar ftp://192.168.100.20:/

